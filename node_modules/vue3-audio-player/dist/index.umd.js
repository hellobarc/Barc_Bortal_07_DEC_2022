var Jt=Object.defineProperty,Zt=Object.defineProperties;var $t=Object.getOwnPropertyDescriptors;var rt=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var ot=(A,s,P)=>s in A?Jt(A,s,{enumerable:!0,configurable:!0,writable:!0,value:P}):A[s]=P,at=(A,s)=>{for(var P in s||(s={}))te.call(s,P)&&ot(A,P,s[P]);if(rt)for(var P of rt(s))ee.call(s,P)&&ot(A,P,s[P]);return A},it=(A,s)=>Zt(A,$t(s));(function(A,s){typeof exports=="object"&&typeof module!="undefined"?s(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],s):(A=typeof globalThis!="undefined"?globalThis:A||self,s(A["audio-player"]={},A.Vue))})(this,function(A,s){"use strict";/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var P=function(t,e){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},P(t,e)};function st(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");P(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var y=function(){return y=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},y.apply(this,arguments)};function lt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function k(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ct=function(){function t(){this.__map={}}return t.prototype.beforeEach=function(e){this.__interceptor=e},t.prototype.on=function(e,n){var r,o,i=Array.isArray(e)?e:[e];try{for(var a=k(i),l=a.next();!l.done;l=a.next()){var c=l.value;this.__map[c]=this.__map[c]||[];var d=this.__map[c];d&&d.push(n)}}catch(u){r={error:u}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return this},t.prototype.emit=function(e,n,r){var o=this;this.__interceptor!==void 0?this.__interceptor(e,function(){o.__emit(e,n),r&&r()}):(this.__emit(e,n),r&&r())},t.prototype.__emit=function(e,n){var r,o,i=this.__map[e];if(Array.isArray(i)&&(i==null?void 0:i.length))try{for(var a=k(i),l=a.next();!l.done;l=a.next())(0,l.value)(n)}catch(c){r={error:c}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}this.event=y(y({},n),{__type:e})},t.prototype.off=function(e,n){var r=this.__map[e];if(r!==void 0)if(n===void 0)delete this.__map[e];else{var o=r.findIndex(function(i){return i===n});r.splice(o,1)}},t.prototype.destroy=function(){this.__map={}},t}(),ut=Object.prototype.toString;function dt(t){return ut.call(t)==="[object Function]"}var B,F="clientX",U="clientY",pt=16,z="start",Q="move",Y="cancel",D="end",x="computed",ft="left",gt="right",vt="up",yt="down",H="touchstart",W="touchmove",K="touchend",j="touchcancel",R="mouseup",S="mousemove",V="mousedown",ht=((B={})[4]="start",B[5]="move",B[1]="end",B[3]="cancel",B);function At(t){return ht[t]}function mt(t,e,n){var r,o,i,a,l,c,d,u={1:(r={},r[0]=(o={},o.move=4,o),r[4]=(i={},i.move=5,i.end=1,i.cancel=3,i),r[5]=(a={},a.move=5,a.end=1,a.cancel=3,a),r),0:(l={},l[4]=(c={},c.move=2,c.end=1,c.cancel=3,c),l[5]=(d={},d.start=2,d.move=2,d.end=1,d.cancel=3,d),l)}[Number(t)][e];return u!==void 0&&u[n]||0}function Pt(t){[1,3,2].includes(t.state)&&(t.state=0)}function q(t){return[4,5].includes(t)}function wt(t){if(t.disabled)return t.state=0,!0}function Et(t,e){return y(y(y({},t),e),{state:0,disabled:!1})}function G(){var t,e,n,r,o=0;return function(i){if(t=e,i!==void 0){var a=function(d,u){var b=d.phase,T=d.points,L=d.changedPoints,f=d.nativeEvent,g=T.length,v=z===b,h=D===b&&g===0||Y===b,E=Date.now(),M=J(T)||J(L),m=M.x,C=M.y,N=f.currentTarget;return Object.assign(d,{id:u,x:m,y:C,timestamp:E,isStart:v,isEnd:h,pointLength:g,currentTarget:N,getOffset:function(w){w===void 0&&(w=N);var X=w.getBoundingClientRect();return{x:m-Math.round(X.left),y:C-Math.round(X.top)}}})}(i,o=Number.MAX_SAFE_INTEGER>o?++o:1);e=a;var l=a.isStart,c=a.pointLength;return l&&(n=a,t=void 0,r=1<c?a:void 0),y(y({},a),{prevInput:t,startMultiInput:r,startInput:n})}}}function J(t){var e=t.length;if(0<e){if(e===1){var n=t[0],r=n.clientX,o=n.clientY;return{x:Math.round(r),y:Math.round(o)}}var i=t.reduce(function(a,l){return a.x+=l[F],a.y+=l[U],a},{x:0,y:0});return{x:Math.round(i.x/e),y:Math.round(i.y/e)}}}function Z(t,e,n,r){n.target,n.currentTarget,n.type;var o,i=lt(n,["target","currentTarget","type"]);return document.createEvent?(o=document.createEvent("HTMLEvents")).initEvent(t,r==null?void 0:r.bubbles,r==null?void 0:r.cancelable):o=new Event(t,r),Object.assign(o,i,{match:function(){return n.targets&&0<n.targets.length&&n.targets.every(function(a){return o.currentTarget.contains(a)})}}),e.dispatchEvent(o)}var $=[H,W,K,j],bt={domEvents:{bubbles:!0,cancelable:!0},preventDefault:function(t){if(t.target&&"tagName"in t.target){var e=t.target.tagName;return!/^(?:INPUT|TEXTAREA|BUTTON|SELECT)$/.test(e)}return!1}},Ct=function(t){function e(n,r){var o,i=t.call(this)||this;i.__computeFunctionList=[],i.__computeFunctionCreatorList=[],i.__pluginContexts=[],i.el=n,i.c={},i.__options=y(y({},bt),r);var a,l,c,d,u=function(f){var g=G();return function(v){var h=[],E=[];Array.from(v.touches).forEach(function(m){var C=m.clientX,N=m.clientY,w=m.target;f!=null&&f.contains(w)&&(h.push(w),E.push({clientX:C,clientY:N,target:w}))});var M=Array.from(v.changedTouches).map(function(m){return{clientX:m.clientX,clientY:m.clientY,target:m.target}});return g({phase:v.type.replace("touch",""),changedPoints:M,points:E,nativeEvent:v,target:v.target,targets:h})}}(i.el),b=(l=!1,c=null,d=G(),function(f){var g,v=f.clientX,h=f.clientY,E=f.type,M=f.button,m=f.target,C=[{clientX:v,clientY:h,target:m}];if(V===E&&M===0)c=m,l=!0,g=z;else{if(!l)return;S===E?g=Q:R===E&&(C=[],g=D,l=!1)}var N=a||[{clientX:v,clientY:h,target:m}];if(a=[{clientX:v,clientY:h,target:m}],g!==void 0)return d({phase:g,changedPoints:N,points:C,target:c,targets:[c],nativeEvent:f})});if(i.__inputCreatorMap=((o={})[H]=u,o[W]=u,o[K]=u,o[j]=u,o[V]=b,o[S]=b,o[R]=b,o),i.on("at:after",function(f){var g=f.target,v=f.__type,h=i.__options.domEvents;h&&i.el!==void 0&&g&&(Z(v,g,f,h),Z("at:after",g,f,h))}),n!==void 0){n.style.webkitTapHighlightColor="rgba(0,0,0,0)";var T=!1;try{var L={};Object.defineProperty(L,"passive",{get:function(){T=!0}}),window.addEventListener("_",function(){},L)}catch{}i.on("u",function(f,g,v){return $.forEach(function(h){f.addEventListener(h,g,v)}),f.addEventListener(V,g,v),window.addEventListener(S,g,v),window.addEventListener(R,g,v),function(){$.forEach(function(h){f.removeEventListener(h,g)}),f.removeEventListener(V,g,v),window.removeEventListener(S,g,v),window.removeEventListener(R,g,v)}}(n,i.catchEvent.bind(i),!(i.__options.preventDefault!==!1||!T)&&{passive:!0}))}return i}return st(e,t),e.prototype.use=function(n,r){this.__pluginContexts.push(n(this,r))},e.prototype.catchEvent=function(n){var r=this.__inputCreatorMap[n.type](n);if(r!==void 0){var o=function(){return n.preventDefault()};(function(a,l){var c=l.preventDefault;return dt(c)?c(a):!!c})(n,this.__options)&&o(),this.emit("input",r),this.emit2("at:"+r.phase,r,{});var i={};this.__computeFunctionList.forEach(function(a){var l=a(r,i);if(l!==void 0)for(var c in l)i[c]=l[c]}),this.emit(x,y(y(y({},r),i),{stopPropagation:function(){return n.stopPropagation()},stopImmediatePropagation:function(){return n.stopImmediatePropagation()},preventDefault:o}))}},e.prototype.compute=function(n,r){var o,i;try{for(var a=k(n),l=a.next();!l.done;l=a.next()){var c=l.value;this.__computeFunctionCreatorList.includes(c)||(this.__computeFunctionCreatorList.push(c),this.__computeFunctionList.push(c()))}}catch(d){o={error:d}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}this.on(x,r)},e.prototype.beforeEach=function(n){var r=this;t.prototype.beforeEach.call(this,function(o,i){var a;!((a=r.c)===null||a===void 0)&&a.name?n(o,i):i()})},e.prototype.get=function(n){return this.__pluginContexts.find(function(r){return n===r.name})},e.prototype.set=function(n){this.__options=y(y({},this.__options),n)},e.prototype.emit2=function(n,r,o){var i=this;this.c=o,this.emit(n,y(y({},r),{type:n}),function(){i.emit("at:after",y(y({},r),{name:n,__type:n}))})},e.prototype.destroy=function(){this.emit("u"),t.prototype.destroy.call(this)},e}(ct),Lt=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},Mt=function(t){return t/Math.PI*180},tt=function(t,e){if(t!==0||e!==0)return Math.abs(t)>=Math.abs(e)?0<t?gt:ft:0<e?yt:vt};function Nt(){return function(t){var e=t.prevInput,n=0,r=0,o=0;if(e!==void 0&&(n=t.x-e.x,r=t.y-e.y,n!==0||r!==0)){var i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));o=Math.round(Mt(Math.acos(Math.abs(n)/i)))}return{deltaX:n,deltaY:r,deltaXYAngle:o}}}function It(){var t,e=0,n=0,r=0,o=0,i=0;return function(a){var l=a.phase,c=a.startInput;return z===l?(e=0,n=0,r=0,o=0,i=0):Q===l&&(e=Math.round(a.points[0][F]-c.points[0][F]),n=Math.round(a.points[0][U]-c.points[0][U]),r=Math.abs(e),o=Math.abs(n),i=Math.round(Lt({x:r,y:o})),t=tt(e,n)),{displacementX:e,displacementY:n,distanceX:r,distanceY:o,distance:i,overallDirection:t}}}function Tt(){var t,e,n=0,r=0,o=0,i=0;return function(a){if(a!==void 0){e=e||a.startInput;var l=a.timestamp-e.timestamp;if(pt<l){var c=a.x-e.x,d=a.y-e.y;o=Math.round(c/l*100)/100,i=Math.round(d/l*100)/100,n=Math.abs(o),r=Math.abs(i),t=tt(c,d),e=a}}return{velocityX:n,velocityY:r,speedX:o,speedY:i,direction:t}}}var _t={name:"pan",threshold:10,pointLength:1};function Ot(t,e){var n=Et(_t,e);return t.compute([Tt,It,Nt],function(r){if(Pt(n),!wt(n)){var o,i,a,l,c,d=(o=r.pointLength,i=r.distance,a=r.direction,l=r.phase,c=n.state,(q(c)||n.threshold<=i)&&n.pointLength===o&&a!==void 0||q(c)&&[Y,D].includes(l));if(n.state=mt(d,n.state,r.phase),d){var u=n.name;t.emit2(u,r,n),t.emit2(u+At(n.state),r,n),![D,Y].includes(r.phase)&&r.direction&&t.emit2(u+r.direction,r,n)}}}),n}const I={src:"",title:"",coverImage:"",coverRotate:!0,progressBarColor:"#3C91F4",indicatorColor:"#3C91F4"},et=t=>{let e=`${Math.floor(t/60)}`,n=`${Math.ceil(t%60)}`;return e.length===1&&(e=`0${e}`),n.length===1&&(n=`0${n}`),`${e}:${n}`};var Bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAaVBMVEUAAAAsLCwsLCwrKysrKysrKystLS0rKyssLCwsLCwsLCwsLCwrKyssLCwuLi4sLCwsLCwsLCwsLCwrKyssLCwrKyssLCwsLCwsLCwrKyssLCwsLCwsLCwsLCwsLCwrKysrKystLS0sLCzwNR2YAAAAInRSTlMAQMMg2RQFurTxi3NgVhvqzKiYLuTen21HNSj5k3lnUFl+HOo+7gAAAYdJREFUeNrt2mlygkAQQOEeFkEE3BXUGNP3P2Tyr6uyakp4ltPfCV7RLsVMi3POOeecu9YkDelEKE2ZHfXDNpm1Mr46UTNdBRlXSPST5VpGVOlX07eJjKXUby0aGUethphD0J9NX4afQ57pb5LB5zDTP+wOMqiFGmIOF71C8iqDKdUgc8j0OvOZDOOohphDqzdYpXJ3vRpkDkFvk3RYgM0BDtDNHgowRQcFmFNKBdgcoABTBCjAnFo4QLdnLMDmAAWYKocDNDtDAaYMWIDNAQ7QrIYCzDKFA3TTQQFmTwdooAM0pwN2dIDWdEBJB2hPB1R0wIIOmNMBmtMBPR2wlshHgH8I8a8h/kPUx/5nVMMBhcABLRxQCxvQCBqQreFXszzql9Mqj/mAIjtHfUhVhKgPKk9tzIfVm33UFxZFF/Wl1Sp9rotL/OoWv7zGr+/5BQZ8hQNfYsHXePhFpnwLr3LJBXr6poLW+UwBLTSaBlrpNIfin0//adZ6H2Cx+QFWu51zzjnnntk7RtaPfcpOlQoAAAAASUVORK5CYII=",Dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAIVBMVEUAAAArKystLS0sLCwsLCwsLCwrKysrKysuLi4rKyssLCwr2prcAAAACnRSTlMA32Pso5eOWBwSpDP37gAAAKJJREFUaN7t2KsRwmAQRWFU0gAIUgFQAYPD4rColJAaoALogJe5VWIyDMvOP1dkonI+ecURK3cGAEDZ+ajeYuX3rNrp69naPVPg9qxW0Jk9uypYmj3bKHiYPTsoeJk9axTczZ7pT2knQIAAAQIECBAgQIAAAQIECEw3MPgBcVLwNvsIT5iLgq3Zs0pBa/bhr7Csbn5u3fk9u+3Vm6+LOwAARR8xXXbv+0wzMgAAAABJRU5ErkJggg==",Rt="data:image/png;base64,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",ne="",St=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n};const nt=t=>({src:t.src||I.src,title:t.title||I.title,coverImage:t.coverImage||I.coverImage,coverRotate:t.coverRotate||I.coverRotate,progressBarColor:t.progressBarColor||I.progressBarColor,indicatorColor:t.indicatorColor||I.indicatorColor}),Vt=s.defineComponent({props:{option:{type:Object,default:I}},emits:["loadedmetadata","playing","play","play-error","timeupdate","pause","ended","progress-start","progress-end","progress-move","progress-click"],setup(t,{emit:e}){const n=s.ref(),r=s.ref(),o=s.ref(),i=s.ref(),a=200,l=s.ref(nt(t.option));let c=null,d=null;const u=s.reactive({isPlaying:!1,isDragging:!1,currentTime:0,totalTime:0,totalTimeStr:"00:00"}),b=()=>{if(u.isDragging)return;const p=n.value.currentTime/n.value.duration*r.value.offsetWidth;u.currentTime=n.value.currentTime,i.value.style.width=`${p}px`,w(p),e("playing")},T=()=>{L(),d=window.setInterval(b,a),u.isPlaying=!0},L=()=>{d&&(window.clearInterval(d),d=null)},f=()=>{n.value.play().then(()=>{T(),h(n.value.duration)}).catch(p=>{e("play-error",p)})},g=()=>{n.value.pause(),u.isPlaying=!1},v=()=>{u.isPlaying?g():f()},h=p=>{u.totalTime=p,u.totalTimeStr=et(u.totalTime)},E=()=>{console.log("onAudioEnded"),u.isPlaying=!1,L(),e("ended")},M=()=>{console.log("onAudioPause"),u.isPlaying=!1,L(),e("pause")},m=()=>{console.log("onAudioPlay"),u.isPlaying=!0,e("play")},C=p=>{console.log("onLoadMetaData",p),h(p.target.duration),e("loadedmetadata",p)},N=p=>{e("timeupdate",p)},w=p=>{o.value.style.left=`${p-o.value.offsetWidth/2}px`},X=p=>{u.isDragging=!0,e("progress-start",p)},Kt=p=>{n.value.currentTime=u.currentTime,f(),u.isDragging=!1,e("progress-end",p)},jt=p=>{const O=p.x,Gt=p.target.getBoundingClientRect();let _=parseInt(getComputedStyle(p.target).left)+(O-Gt.left);_=Math.min(_,r.value.offsetWidth),_=Math.max(_,0),w(_),i.value.style.width=`${_}px`,u.currentTime=_/r.value.offsetWidth*u.totalTime,e("progress-move",p)},qt=p=>{const{offsetX:O}=p;p.target!==o.value&&(u.currentTime=O/r.value.offsetWidth*u.totalTime,n.value.currentTime=u.currentTime,w(O),i.value.style.width=`${O}px`,f(),e("progress-click",p))};return s.watch(()=>t.option,(p,O)=>{l.value=nt(p),s.nextTick(()=>{f()})},{deep:!0}),s.onMounted(()=>{c=new Ct(document.getElementById("app")||void 0,{preventDefault:!1}),c.use(Ot)}),s.onUnmounted(()=>{c&&c.destroy()}),it(at({audioPlayer:n,option_:l},s.toRefs(u)),{onAudioEnded:E,onAudioPlay:m,onAudioPause:M,onLoadMetaData:C,onTimeUpdate:N,play:f,pause:g,togglePlayer:v,formatSecond:et,handleProgressPanStart:X,handleProgressPanEnd:Kt,handleProgressPanMove:jt,handleClickProgressWrap:qt,audioProgressWrap:r,audioProgressPoint:o,audioProgress:i,IconPlay:Bt,IconPause:Dt,CoverImageDefault:Rt})}}),Xt={class:"audio__player"},kt=["src"],Ft={class:"audio__player-play-icon"},Ut=["src"],zt={key:0,class:"audio__player-title"},Yt={class:"audio__player-progress-container"},Qt={class:"audio__player-time"},xt=["src"];function Ht(t,e,n,r,o,i){return s.openBlock(),s.createElementBlock("div",Xt,[s.createElementVNode("div",{class:"audio__player-play",onClick:e[0]||(e[0]=(...a)=>t.togglePlayer&&t.togglePlayer(...a))},[s.createElementVNode("img",{src:t.option_.coverImage?t.option_.coverImage:t.CoverImageDefault,class:s.normalizeClass(`${t.isPlaying&&t.option_.coverRotate?"audio__player-spin-anim":""}`)},null,10,kt),s.createElementVNode("div",Ft,[s.createElementVNode("img",{src:t.isPlaying?t.IconPause:t.IconPlay},null,8,Ut)])]),t.option_.title?(s.openBlock(),s.createElementBlock("div",zt,s.toDisplayString(t.option_.title),1)):s.createCommentVNode("",!0),s.createElementVNode("div",Yt,[s.createElementVNode("div",{ref:"audioProgressWrap",class:"audio__player-progress-wrap",onClick:e[4]||(e[4]=s.withModifiers((...a)=>t.handleClickProgressWrap&&t.handleClickProgressWrap(...a),["stop"]))},[s.createElementVNode("div",{ref:"audioProgress",class:"audio__player-progress",style:s.normalizeStyle({backgroundColor:t.option_.progressBarColor})},null,4),s.createElementVNode("div",{ref:"audioProgressPoint",class:"audio__player-progress-point",style:s.normalizeStyle({backgroundColor:t.option_.indicatorColor,boxShadow:`0 0 10px 0 ${t.option_.indicatorColor}`}),onPanstart:e[1]||(e[1]=(...a)=>t.handleProgressPanStart&&t.handleProgressPanStart(...a)),onPanend:e[2]||(e[2]=(...a)=>t.handleProgressPanEnd&&t.handleProgressPanEnd(...a)),onPanmove:e[3]||(e[3]=(...a)=>t.handleProgressPanMove&&t.handleProgressPanMove(...a))},null,36)],512),s.createElementVNode("div",Qt,[s.createElementVNode("span",null,s.toDisplayString(`${t.formatSecond(t.currentTime)} / ${t.totalTimeStr}`),1)])]),s.createElementVNode("audio",{ref:"audioPlayer",src:t.option_.src,onEnded:e[5]||(e[5]=(...a)=>t.onAudioEnded&&t.onAudioEnded(...a)),onPlay:e[6]||(e[6]=(...a)=>t.onAudioPlay&&t.onAudioPlay(...a)),onPause:e[7]||(e[7]=(...a)=>t.onAudioPause&&t.onAudioPause(...a)),onLoadedmetadata:e[8]||(e[8]=(...a)=>t.onLoadMetaData&&t.onLoadMetaData(...a)),onTimeupdate:e[9]||(e[9]=(...a)=>t.onTimeUpdate&&t.onTimeUpdate(...a))},null,40,xt)])}var Wt=St(Vt,[["render",Ht],["__scopeId","data-v-504d71cb"]]);A.default=Wt,Object.defineProperties(A,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
